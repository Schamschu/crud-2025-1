import os
os.system('cls')
import random

vetor = [] 

def menu ():
    metas = 0
    tipo_treino = " "
    lista_de_semana = []
    while True: 
        print('\n----- Menu -----')
        print('1. Adicionar')
        print('2. Visualizar')
        print('3. Editar')
        print('4. Excluir')
        print('5. Filtrar')
        print('6. Metas e Desempenho')
        print('7. Sugestão de Treino')
        print('8. Funcionalidade extra')
        print('9. Sair')

        try:
            escolha = int(input('\nInforme a opção desejada: '))
            if escolha == 9:
                break

            elif escolha == 1:
                vetor= adicionar(metas,tipo_treino)# ta tudo certo so preciso resolver essa parte!!! to chmando a função não a variavel /resolvi esse caralho

            elif escolha == 2:
                visualizar()

            elif escolha == 3:
                editar()

            elif escolha == 4:
                excluir()

            elif escolha == 5:
                filtrar()

            elif escolha == 6:
                vetor, metas, tipo_treino = meta(tipo_treino)

            elif escolha == 7:
                lista_de_semana = randomico(lista_de_semana )
            
            elif escolha == 8:
                calcular_tmb()
            
            else:
                print('\nNúmero inválido, tente novamente!')
                continue
       
        except ValueError:
            print("\nPor favor, insira um número!")
            continue

def adicionar(metas,tipo_treino):
    with open('treinos.txt', 'r') as file:
        linhas = file.readlines()

    cont = len(linhas) + 1 

    with open('treinos.txt', 'a') as file: 
        print('\n----- Adicionar -----')
        data = input('Informe a data: ')
        tipo = input('Informe o tipo de treino (AMRAP, EMOM, For Time): ')
        tempo = input('Informe a duração do treino em min:  ')
        movimentos = input('Informe os movimentos: ')

        treino = (f'{cont}. Data: {data} | Tipo: {tipo} | Minutos: {tempo} min | Movimentos: {movimentos}\n')
        file.write(treino)
        
        print('\nTreino adicionado com sucesso!')
    if sum(vetor)>0:
        while True:
            try:
                progresso = int(input("Digite o progresso do dia: "))
                vetor.append(progresso)
                break
            except ValueError:
                print('Entrada inválida. Digite um número.')
            
            
        print("progresso ",tipo_treino," ",sum(vetor), " de ", metas)
        if sum(vetor)>0 and sum(vetor) == metas:
            print("Meta atingida :)")
        elif sum(vetor) > metas:
            print("VOCÊ SUPEROU SUA META!!")
        return vetor

menu()
